<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MANDATE: The District Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="game-container">
        <!-- Header -->
        <header class="game-header">
            <h1>MANDATE</h1>
            <p class="subtitle">THE DISTRICT GAME</p>
        </header>

        <!-- Score Display -->
        <div class="score-panel">
            <div class="player-score left">
                <span class="player-label">LEFT</span>
                <span class="districts-won" id="left-score">0</span>
            </div>
            <div class="player-score indie">
                <span class="player-label">YOU (Independent)</span>
                <span class="districts-won" id="indie-score">0</span>
            </div>
            <div class="player-score right">
                <span class="player-label">RIGHT</span>
                <span class="districts-won" id="right-score">0</span>
            </div>
        </div>

        <!-- Game Info -->
        <div class="game-info">
            <div id="round-indicator">R1/3 | Wins: L:0 Y:0 R:0 | Dist: L:0 Y:0 R:0</div>
            <div id="turn-indicator">Your Turn</div>
            <div id="deck-count">Deck: <span>51</span> cards</div>
        </div>

        <!-- Districts -->
        <div class="districts-container" id="districts">
            <!-- Districts will be generated by JS -->
        </div>

        <!-- Player Hand -->
        <div class="hand-container">
            <h3>YOUR HAND</h3>
            <div class="player-hand" id="player-hand">
                <!-- Cards will be generated by JS -->
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button id="end-turn-btn" class="btn-end-turn" disabled>END TURN</button>
        </div>

        <!-- Game Log -->
        <div class="game-log">
            <h4>GAME LOG</h4>
            <div id="log-content"></div>
        </div>

        <!-- Modal for Game Over -->
        <div class="modal" id="game-over-modal">
            <div class="modal-content">
                <h2 id="winner-text">Game Over!</h2>
                <p id="winner-message"></p>
                <button onclick="restartGame()" class="btn-restart">PLAY AGAIN</button>
            </div>
        </div>

        <!-- Modal for Crisis Card -->
        <div class="modal" id="crisis-modal">
            <div class="modal-content">
                <h2>CRISIS CARD</h2>
                <p>Choose a color and value (2-10):</p>
                <div class="crisis-options">
                    <select id="crisis-color">
                        <option value="blue">Institution (Blue)</option>
                        <option value="green">Base (Green)</option>
                        <option value="yellow">Media (Yellow)</option>
                        <option value="red">Capital (Red)</option>
                        <option value="purple">Ideology (Purple)</option>
                        <option value="grey">Logistics (Grey)</option>
                    </select>
                    <select id="crisis-value">
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                    </select>
                </div>
                <button id="confirm-crisis" class="btn-confirm">CONFIRM</button>
            </div>
        </div>
    </div>

    <!-- Left Drawer Toggle (Fixed) -->
    <div class="drawer-toggle toggle-left" onclick="toggleDrawer('stats-drawer')">ðŸ“Š</div>

    <!-- Right Drawer Toggle (Fixed) -->
    <div class="drawer-toggle toggle-right" onclick="toggleDrawer('reference-drawer')">ðŸ“–</div>

    <!-- Left Drawer: Stats Panel -->
    <div class="drawer drawer-left" id="stats-drawer">
        <div class="drawer-content">
            <h3>BO3 STATISTICS</h3>

            <div class="stats-section">
                <h4>Round Wins</h4>
                <div class="stats-row">
                    <span class="stats-label left-text">LEFT:</span>
                    <span id="stats-left-rounds">0</span>
                </div>
                <div class="stats-row">
                    <span class="stats-label indie-text">YOU:</span>
                    <span id="stats-indie-rounds">0</span>
                </div>
                <div class="stats-row">
                    <span class="stats-label right-text">RIGHT:</span>
                    <span id="stats-right-rounds">0</span>
                </div>
            </div>

            <div class="stats-section">
                <h4>Total Districts (Tiebreaker 1)</h4>
                <div class="stats-row">
                    <span class="stats-label left-text">LEFT:</span>
                    <span id="stats-left-districts">0</span>
                </div>
                <div class="stats-row">
                    <span class="stats-label indie-text">YOU:</span>
                    <span id="stats-indie-districts">0</span>
                </div>
                <div class="stats-row">
                    <span class="stats-label right-text">RIGHT:</span>
                    <span id="stats-right-districts">0</span>
                </div>
            </div>

            <div class="stats-section">
                <h4>Best Combination (Tiebreaker 2)</h4>
                <div class="stats-row">
                    <span class="stats-label left-text">LEFT:</span>
                    <span id="stats-left-combo">-</span>
                </div>
                <div class="stats-row">
                    <span class="stats-label indie-text">YOU:</span>
                    <span id="stats-indie-combo">-</span>
                </div>
                <div class="stats-row">
                    <span class="stats-label right-text">RIGHT:</span>
                    <span id="stats-right-combo">-</span>
                </div>
            </div>

            <div class="stats-section">
                <h4>Combinations Achieved</h4>
                <div id="combo-history">
                    <em>No combinations yet</em>
                </div>
            </div>
        </div>
    </div>

    <!-- Right Drawer: Reference Guide -->
    <div class="drawer drawer-right" id="reference-drawer">
        <div class="drawer-content">
            <h3>CONFIGURATION GUIDE</h3>

            <div class="config-list">
                <div class="config-item rank-1">
                    <span class="config-rank">1</span>
                    <div class="config-info">
                        <strong>Total Mandate (AAA)</strong>
                        <small>Three Aces - Unbeatable!</small>
                    </div>
                </div>

                <div class="config-item rank-2">
                    <span class="config-rank">2</span>
                    <div class="config-info">
                        <strong>Color Run</strong>
                        <small>Same color + consecutive</small>
                        <em>e.g., Blue 4-5-6</em>
                    </div>
                </div>

                <div class="config-item rank-3">
                    <span class="config-rank">3</span>
                    <div class="config-info">
                        <strong>Unified Message</strong>
                        <small>Three identical numbers</small>
                        <em>e.g., 7-7-7</em>
                    </div>
                </div>

                <div class="config-item rank-4">
                    <span class="config-rank">4</span>
                    <div class="config-info">
                        <strong>Same Color</strong>
                        <small>Three cards, same color</small>
                        <em>e.g., Green 2-6-9</em>
                    </div>
                </div>

                <div class="config-item rank-5">
                    <span class="config-rank">5</span>
                    <div class="config-info">
                        <strong>Momentum</strong>
                        <small>Consecutive, mixed colors</small>
                        <em>e.g., 3-4-5</em>
                    </div>
                </div>

                <div class="config-item rank-6">
                    <span class="config-rank">6</span>
                    <div class="config-info">
                        <strong>Party (Pair)</strong>
                        <small>Two matching + kicker</small>
                        <em>e.g., 8-8-2</em>
                    </div>
                </div>

                <div class="config-item rank-7">
                    <span class="config-rank">7</span>
                    <div class="config-info">
                        <strong>Raw Pressure</strong>
                        <small>Sum of cards decides</small>
                        <em>Highest total wins</em>
                    </div>
                </div>
            </div>

            <div class="ace-rules">
                <h4>ACE RULES</h4>
                <ul>
                    <li>Worth 11 in Raw Pressure</li>
                    <li>A-2-3 or 9-10-A valid runs</li>
                    <li>Not in middle of runs</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>

</html>